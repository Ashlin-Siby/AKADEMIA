{% extends 'summer_project/base.html' %}
{% load staticfiles %}
{% block mainblock %}
<head>
    <title>Study Corner | Files</title>
</head>
{% if user.is_student and "study_material" == type %}
<div class="container">
    <h2>Subject Code: {{code_pk}}</h2>
    <ul class="list-group">
        {% for entry in files_list %}
        <a href="{{entry.filePath}}" class="list-group-item list-group-item-action">{{entry.fileName}}</a>
        {% endfor %}
    </ul>
</div>
{% elif user.is_student %}
<div class="container">
    <h2>Batch: {{year}} Semester: {{semester}} Subject-Code: {{subj_code}}</h2>
    <ul class="list-group">
        {% for entry in file_list %}
        <a href="file:\\\{{media_dir}}{{entry.filePath}}" class="list-group-item list-group-item-action" target="_blank">{{entry.fileName}}</a>
        {% endfor %}
    </ul>
    <a class="btn btn-primary" href="{% url 'summer_project:filesuploader' type_pk=type year_pk=year sem_pk=semester code_pk=subj_code %}">Upload</a>
    <a class="btn btn-danger" href="{% url 'summer_project:filesdeleter' type_pk=type year_pk=year sem_pk=semester code_pk=subj_code %}">Delete</a>
</div>
{% elif user.is_staff %}
<div class="container">
    <h2>Files List</h2>
    <ul class="list-group">
        {% for entry in files_list %}
        <a href="{{entry.filePath}}" class="list-group-item list-group-item-action">{{entry.fileName}}</a>
        {% endfor %}
    </ul>
    <a class="btn btn-primary" href="{% url 'summer_project:uploadfile' t_type_pk=type t_code_pk=code_pk %}">Upload</a>
    <a class="btn btn-danger" href="{% url 'summer_project:deletefile' t_type_pk=type t_code_pk=code_pk %}">Delete</a>
</div>
{% endif %}
{% endblock %}